(this["webpackJsonpgenealogy-editor"]=this["webpackJsonpgenealogy-editor"]||[]).push([[0],{23:function(a,t,e){},30:function(a,t,e){},32:function(a,t,e){},33:function(a,t,e){"use strict";e.r(t);var n=e(0),i=e.n(n),r=e(13),s=e.n(r),o=(e(23),e(8)),h=e(2),u=e(11),c=e(3),l=e(4),d=function(){function a(t,e,n,i,r,s){Object(c.a)(this,a),this.day=void 0,this.month=void 0,this.year=void 0,this.startTimelineDay=void 0,this.startTimelineMonth=void 0,this.startTimelineYear=void 0,this.day=t,this.month=e,this.year=n,this.startTimelineDay=i,this.startTimelineMonth=r,this.startTimelineYear=s}return Object(l.a)(a,null,[{key:"timeInDaysFromStart",value:function(a){return 365*(a.year-a.startTimelineYear)*30+30*(a.month-a.startTimelineMonth)+(a.day-a.startTimelineDay)}},{key:"changeStartTimelineDate",value:function(a,t,e,n){a.startTimelineDay=t,a.startTimelineMonth=e,a.startTimelineYear=n}},{key:"changeDate",value:function(a,t,e,n){a.day=t,a.month=e,a.year=n}},{key:"changeDateString",value:function(a,t){var e=t.split(".");1===e.length?a.day=Number(e[0]):2===e.length?(a.day=Number(e[0]),a.month=Number(e[1])):(a.day=Number(e[0]),a.month=Number(e[1]),a.year=Number(e[2]))}},{key:"returnDateAsString",value:function(a){return"".concat(a.day,".").concat(a.month,".").concat(a.year)}}]),a}(),m=(e(30),e(1));function y(a){return Object(m.jsx)("h4",{children:a.string})}function f(a){return Object(m.jsx)("input",{defaultValue:a.defaultVal,onChange:a.handleChange})}var k=function(a){return Object(m.jsxs)("div",{className:"divCharacteristics",children:[Object(m.jsx)(y,{string:a.fieldName}),a.isEditing?Object(m.jsx)(f,{defaultVal:a.showString,handleChange:a.handleChange}):Object(m.jsx)(y,{string:a.showString})]})},b=o.c;var v,g=function(){var a=b((function(a){return a.characters})),t=Object(o.b)(),e=Object(n.useState)(!1),i=Object(u.a)(e,2),r=i[0],s=i[1],c=Object(n.useState)("Edit"),l=Object(u.a)(c,2),y=l[0],f=l[1],v=Object(n.useState)(0),g=Object(u.a)(v,2),p=g[0],j=(g[1],Object(n.useState)()),w=Object(u.a)(j,2),O=w[0],E=w[1],_=function(a){E(a),t({type:"UpdateCharacter",payload:a})};if(!a)return Object(m.jsx)("h2",{children:"NOT INISALIZED"});var A=a.find((function(a){return a.id.valueOf()===p}));return A?(O!==A&&_(A),O?Object(m.jsxs)("div",{style:{display:"grid"},children:[Object(m.jsx)("button",{onClick:function(){r?(s(!1),f("Edit")):(s(!0),f("Save"))},style:{width:"100%",height:"2rem"},children:y}),Object(m.jsx)(k,{fieldName:"Name: ",isEditing:r,handleChange:function(a){_(Object(h.a)(Object(h.a)({},O),{},{name:a.target.value}))},showString:O.name}),Object(m.jsx)(k,{fieldName:"Surname: ",isEditing:r,handleChange:function(a){_(Object(h.a)(Object(h.a)({},O),{},{surname:a.target.value}))},showString:O.surname}),Object(m.jsx)(k,{fieldName:"Patronymic: ",isEditing:r,handleChange:function(a){_(Object(h.a)(Object(h.a)({},O),{},{patronymic:a.target.value}))},showString:O.patronymic}),Object(m.jsx)(k,{fieldName:"Birth Date: ",isEditing:r,handleChange:function(a){var t=new d(0,0,0,0,0,0);Object.assign(t,O.birth),d.changeDateString(t,a.target.value),_(Object(h.a)(Object(h.a)({},O),{},{birth:t}))},showString:d.returnDateAsString(O.birth)}),Object(m.jsx)(k,{fieldName:"Death Date: ",isEditing:r,handleChange:function(a){if(a.target.value.length>0){var t=new d(0,0,0,0,0,0);"object"==typeof O.death&&Object.assign(t,O.death),d.changeDateString(t,a.target.value),_(Object(h.a)(Object(h.a)({},O),{},{death:t}))}else _(Object(h.a)(Object(h.a)({},O),{},{death:null}))},showString:O.death?d.returnDateAsString(O.death):"not dead yet"})]}):Object(m.jsx)("h2",{children:"PERSON IS NULL"})):Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"CHARACTER UNFOUND"}),Object(m.jsx)("button",{onClick:function(){t({type:"GenearateDynasty"})},children:"GENERATE DYNASTY"})]})},p=e(18),j=e(9),w=e(12),O=e(5),E=e(7),_=e(6);!function(a){a.MIDDLE_EARTH="(bil|bal|ban|hil|ham|hal|hol|hob|wil|me|or|ol|od|gor|for|fos|tol|ar|fin|ere|leo|vi|bi|bren|thor)(|go|orbis|apol|adur|mos|ri|i|na|ole|n)(|tur|axia|and|bo|gil|bin|bras|las|mac|grim|wise|l|lo|fo|co|ra|via|da|ne|ta|y|wen|thiel|phin|dir|dor|tor|rod|on|rdo|dis)",a.JAPANESE_NAMES_CONSTRAINED="(aka|aki|bashi|gawa|kawa|furu|fuku|fuji|hana|hara|haru|hashi|hira|hon|hoshi|ichi|iwa|kami|kawa|ki|kita|kuchi|kuro|marui|matsu|miya|mori|moto|mura|nabe|naka|nishi|no|da|ta|o|oo|oka|saka|saki|sawa|shita|shima|i|suzu|taka|take|to|toku|toyo|ue|wa|wara|wata|yama|yoshi|kei|ko|zawa|zen|sen|ao|gin|kin|ken|shiro|zaki|yuki|asa)(||||||||||bashi|gawa|kawa|furu|fuku|fuji|hana|hara|haru|hashi|hira|hon|hoshi|chi|wa|ka|kami|kawa|ki|kita|kuchi|kuro|marui|matsu|miya|mori|moto|mura|nabe|naka|nishi|no|da|ta|o|oo|oka|saka|saki|sawa|shita|shima|suzu|taka|take|to|toku|toyo|ue|wa|wara|wata|yama|yoshi|kei|ko|zawa|zen|sen|ao|gin|kin|ken|shiro|zaki|yuki|sa)",a.JAPANESE_NAMES_DIVERSE="(a|i|u|e|o|||||)(ka|ki|ki|ku|ku|ke|ke|ko|ko|sa|sa|sa|shi|shi|shi|su|su|se|so|ta|ta|chi|chi|tsu|te|to|na|ni|ni|nu|nu|ne|no|no|ha|hi|fu|fu|he|ho|ma|ma|ma|mi|mi|mi|mu|mu|mu|mu|me|mo|mo|mo|ya|yu|yu|yu|yo|ra|ra|ra|ri|ru|ru|ru|re|ro|ro|ro|wa|wa|wa|wa|wo|wo)(ka|ki|ki|ku|ku|ke|ke|ko|ko|sa|sa|sa|shi|shi|shi|su|su|se|so|ta|ta|chi|chi|tsu|te|to|na|ni|ni|nu|nu|ne|no|no|ha|hi|fu|fu|he|ho|ma|ma|ma|mi|mi|mi|mu|mu|mu|mu|me|mo|mo|mo|ya|yu|yu|yu|yo|ra|ra|ra|ri|ru|ru|ru|re|ro|ro|ro|wa|wa|wa|wa|wo|wo)(|(ka|ki|ki|ku|ku|ke|ke|ko|ko|sa|sa|sa|shi|shi|shi|su|su|se|so|ta|ta|chi|chi|tsu|te|to|na|ni|ni|nu|nu|ne|no|no|ha|hi|fu|fu|he|ho|ma|ma|ma|mi|mi|mi|mu|mu|mu|mu|me|mo|mo|mo|ya|yu|yu|yu|yo|ra|ra|ra|ri|ru|ru|ru|re|ro|ro|ro|wa|wa|wa|wa|wo|wo)|(ka|ki|ki|ku|ku|ke|ke|ko|ko|sa|sa|sa|shi|shi|shi|su|su|se|so|ta|ta|chi|chi|tsu|te|to|na|ni|ni|nu|nu|ne|no|no|ha|hi|fu|fu|he|ho|ma|ma|ma|mi|mi|mi|mu|mu|mu|mu|me|mo|mo|mo|ya|yu|yu|yu|yo|ra|ra|ra|ri|ru|ru|ru|re|ro|ro|ro|wa|wa|wa|wa|wo|wo)(|(ka|ki|ki|ku|ku|ke|ke|ko|ko|sa|sa|sa|shi|shi|shi|su|su|se|so|ta|ta|chi|chi|tsu|te|to|na|ni|ni|nu|nu|ne|no|no|ha|hi|fu|fu|he|ho|ma|ma|ma|mi|mi|mi|mu|mu|mu|mu|me|mo|mo|mo|ya|yu|yu|yu|yo|ra|ra|ra|ri|ru|ru|ru|re|ro|ro|ro|wa|wa|wa|wa|wo|wo)))(|||n)",a.CHINESE_NAMES="(zh|x|q|sh|h)(ao|ian|uo|ou|ia)(|(l|w|c|p|b|m)(ao|ian|uo|ou|ia)(|n)|-(l|w|c|p|b|m)(ao|ian|uo|ou|ia)(|(d|j|q|l)(a|ai|iu|ao|i)))",a.GREEK_NAMES="<s<v|V>(tia)|s<v|V>(os)|B<v|V>c(ios)|B<v|V><c|C>v(ios|os)>",a.HAWAIIAN_NAMES_1="((h|k|l|m|n|p|w|')|)(a|e|i|o|u)((h|k|l|m|n|p|w|')|)(a|e|i|o|u)(((h|k|l|m|n|p|w|')|)(a|e|i|o|u)|)(((h|k|l|m|n|p|w|')|)(a|e|i|o|u)|)(((h|k|l|m|n|p|w|')|)(a|e|i|o|u)|)(((h|k|l|m|n|p|w|')|)(a|e|i|o|u)|)",a.HAWAIIAN_NAMES_2="((h|k|l|m|n|p|w|)(a|e|i|o|u|a'|e'|i'|o'|u'|ae|ai|ao|au|oi|ou|eu|ei)(k|l|m|n|p|)|)(h|k|l|m|n|p|w|)(a|e|i|o|u|a'|e'|i'|o'|u'|ae|ai|ao|au|oi|ou|eu|ei)(k|l|m|n|p|)",a.OLD_LATIN_PLACE_NAMES="sv(nia|lia|cia|sia)",a.DRAGONS_PERN="<<s|ss>|<VC|vC|B|BVs|Vs>><v|V|v|<v(l|n|r)|vc>>(th)",a.DRAGON_RIDERS="c'<s|cvc>",a.POKEMON="<i|s>v(mon|chu|zard|rtle)",a.FANTASY_VOWELS_R="(|(<B>|s|h|ty|ph|r))(i|ae|ya|ae|eu|ia|i|eo|ai|a)(lo|la|sri|da|dai|the|sty|lae|due|li|lly|ri|na|ral|sur|rith)(|(su|nu|sti|llo|ria|))(|(n|ra|p|m|lis|cal|deu|dil|suir|phos|ru|dru|rin|raap|rgue))",a.FANTASY_S_A="(cham|chan|jisk|lis|frich|isk|lass|mind|sond|sund|ass|chad|lirt|und|mar|lis|il|<BVC>)(jask|ast|ista|adar|irra|im|ossa|assa|osia|ilsa|<vCv>)(|(an|ya|la|sta|sda|sya|st|nya))",a.FANTASY_H_L="(ch|ch't|sh|cal|val|ell|har|shar|shal|rel|laen|ral|jh't|alr|ch|ch't|av)(|(is|al|ow|ish|ul|el|ar|iel))(aren|aeish|aith|even|adur|ulash|alith|atar|aia|erin|aera|ael|ira|iel|ahur|ishul)",a.FANTASY_N_L="(ethr|qil|mal|er|eal|far|fil|fir|ing|ind|il|lam|quel|quar|quan|qar|pal|mal|yar|um|ard|enn|ey)(|(<vc>|on|us|un|ar|as|en|ir|ur|at|ol|al|an))(uard|wen|arn|on|il|ie|on|iel|rion|rian|an|ista|rion|rian|cil|mol|yon)",a.FANTASY_K_N="(taith|kach|chak|kank|kjar|rak|kan|kaj|tach|rskal|kjol|jok|jor|jad|kot|kon|knir|kror|kol|tul|rhaok|rhak|krol|jan|kag|ryr)(<vc>|in|or|an|ar|och|un|mar|yk|ja|arn|ir|ros|ror)(|(mund|ard|arn|karr|chim|kos|rir|arl|kni|var|an|in|ir|a|i|as))",a.FANTASY_J_G_Z="(aj|ch|etz|etzl|tz|kal|gahn|kab|aj|izl|ts|jaj|lan|kach|chaj|qaq|jol|ix|az|biq|nam)(|(<vc>|aw|al|yes|il|ay|en|tom||oj|im|ol|aj|an|as))(aj|am|al|aqa|ende|elja|ich|ak|ix|in|ak|al|il|ek|ij|os|al|im)",a.FANTASY_K_J_Y="(yi|shu|a|be|na|chi|cha|cho|ksa|yi|shu)(th|dd|jj|sh|rr|mk|n|rk|y|jj|th)(us|ash|eni|akra|nai|ral|ect|are|el|urru|aja|al|uz|ict|arja|ichi|ural|iru|aki|esh)",a.FANTASY_S_E="(syth|sith|srr|sen|yth|ssen|then|fen|ssth|kel|syn|est|bess|inth|nen|tin|cor|sv|iss|ith|sen|slar|ssil|sthen|svis|s|ss|s|ss)(|(tys|eus|yn|of|es|en|ath|elth|al|ell|ka|ith|yrrl|is|isl|yr|ast|iy))(us|yn|en|ens|ra|rg|le|en|ith|ast|zon|in|yn|ys)";var t,e,n={s:["ach","ack","ad","age","ald","ale","an","ang","ar","ard","as","ash","at","ath","augh","aw","ban","bel","bur","cer","cha","che","dan","dar","del","den","dra","dyn","ech","eld","elm","em","en","end","eng","enth","er","ess","est","et","gar","gha","hat","hin","hon","ia","ight","ild","im","ina","ine","ing","ir","is","iss","it","kal","kel","kim","kin","ler","lor","lye","mor","mos","nal","ny","nys","old","om","on","or","orm","os","ough","per","pol","qua","que","rad","rak","ran","ray","ril","ris","rod","roth","ryn","sam","say","ser","shy","skel","sul","tai","tan","tas","ther","tia","tin","ton","tor","tur","um","und","unt","urn","usk","ust","ver","ves","vor","war","wor","yer"],v:["a","e","i","o","u","y"],V:["a","e","i","o","u","y","ae","ai","au","ay","ea","ee","ei","eu","ey","ia","ie","oe","oi","oo","ou","ui"],c:["b","c","d","f","g","h","j","k","l","m","n","p","q","r","s","t","v","w","x","y","z"],B:["b","bl","br","c","ch","chr","cl","cr","d","dr","f","g","h","j","k","l","ll","m","n","p","ph","qu","r","rh","s","sch","sh","sl","sm","sn","st","str","sw","t","th","thr","tr","v","w","wh","y","z","zh"],C:["b","c","ch","ck","d","f","g","gh","h","k","l","ld","ll","lt","m","n","nd","nn","nt","p","ph","q","r","rd","rr","rt","s","sh","ss","st","t","th","v","w","y","z"],i:["air","ankle","ball","beef","bone","bum","bumble","bump","cheese","clod","clot","clown","corn","dip","dolt","doof","dork","dumb","face","finger","foot","fumble","goof","grumble","head","knock","knocker","knuckle","loaf","lump","lunk","meat","muck","munch","nit","numb","pin","puff","skull","snark","sneeze","thimble","twerp","twit","wad","wimp","wipe"],m:["baby","booble","bunker","cuddle","cuddly","cutie","doodle","foofie","gooble","honey","kissie","lover","lovey","moofie","mooglie","moopie","moopsie","nookum","poochie","poof","poofie","pookie","schmoopie","schnoogle","schnookie","schnookum","smooch","smoochie","smoosh","snoogle","snoogy","snookie","snookum","snuggy","sweetie","woogle","woogy","wookie","wookum","wuddle","wuddly","wuggy","wunny"],M:["boo","bunch","bunny","cake","cakes","cute","darling","dumpling","dumplings","face","foof","goo","head","kin","kins","lips","love","mush","pie","poo","pooh","pook","pums"],D:["b","bl","br","cl","d","f","fl","fr","g","gh","gl","gr","h","j","k","kl","m","n","p","th","w"],d:["elch","idiot","ob","og","ok","olph","olt","omph","ong","onk","oo","oob","oof","oog","ook","ooz","org","ork","orm","oron","ub","uck","ug","ulf","ult","um","umb","ump","umph","un","unb","ung","unk","unph","unt","uzz"]};!function(a){a[a.capitalizer=0]="capitalizer",a[a.reverser=1]="reverser"}(t||(t={})),function(a){a[a.symbol=0]="symbol",a[a.literal=1]="literal"}(e||(e={}));var i=function(){function a(t){Object(c.a)(this,a),this.wrappers=[],this.set=[],this.type=void 0,this.type=t}return Object(l.a)(a,[{key:"produce",value:function(){switch(this.set.length){case 0:return new d("");case 1:return this.set[0];default:return new h(this.set)}}},{key:"split",value:function(){0===this.set.length&&this.set.push(new u([])),this.set.push(new u([]))}},{key:"wrap",value:function(a){this.wrappers.push(a)}},{key:"add",value:function(a){if("string"!==typeof a){for(var e=a;this.wrappers.length>0;)switch(this.wrappers.pop()){case t.reverser:e=new m(e);break;case t.capitalizer:e=new y(e)}return 0===this.set.length&&this.set.push(new u([])),void this.set[this.set.length-1].add(e)}var n=a,i=new h([]);i.add(new d(n)),this.add(i)}}]),a}(),r=function(a){Object(E.a)(i,a);var t=Object(_.a)(i);function i(){return Object(c.a)(this,i),t.call(this,e.symbol)}return Object(l.a)(i,[{key:"add",value:function(a){var t=new h([]),e=n[a];if(e)for(var r in e)t.add(new d(e[r]));else t.add(new d(a));Object(w.a)(Object(O.a)(i.prototype),"add",this).call(this,t)}}]),i}(i),s=function(a){Object(E.a)(n,a);var t=Object(_.a)(n);function n(){return Object(c.a)(this,n),t.call(this,e.literal)}return n}(i),o=function(){function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Object(c.a)(this,a),this.generators=[],"object"!==typeof n&&null!==n){for(var o,h=[],u=new r,l=n,d=0;d<l.length;d++){var m=l[d];switch(m){case"<":h.push(u),u=new r;break;case"(":h.push(u),u=new s;break;case">":case")":if(0===h.length)throw new Error("Unbalanced brackets");if(">"===m&&u.type!==e.symbol)throw new Error("Unexpected '>' in pattern");if(")"===m&&u.type!==e.literal)throw new Error("Unexpected ')' in pattern");o=u.produce(),(u=h.pop()).add(o);break;case"|":u.split();break;case"!":u.type===e.symbol?u.wrap(t.capitalizer):u.add(m);break;case"~":u.type===e.symbol?u.wrap(t.reverser):u.add(m);break;default:u.add(m)}}if(0!==h.length)throw new Error("Missing closing brackets");var y=u.produce();i&&(y=new f(y)),this.add(y)}else this.generators=n||[]}return Object(l.a)(a,[{key:"combinations",value:function(){var a=1;return this.generators.forEach((function(t,e,n){a*=t.combinations()})),a}},{key:"min",value:function(){var a=0;return this.generators.forEach((function(t,e,n){a+=t.min()})),a}},{key:"max",value:function(){var a=0;return this.generators.forEach((function(t,e,n){a+=t.max()})),a}},{key:"toString",value:function(a){var t="";return this.generators.forEach((function(e,n,i){t+=e.toString(a)})),t}},{key:"add",value:function(a){this.generators.push(a)}}]),a}();a.NameGenerator=o;var h=function(a){Object(E.a)(e,a);var t=Object(_.a)(e);function e(a){return Object(c.a)(this,e),t.call(this,a)}return Object(l.a)(e,[{key:"combinations",value:function(){var a=0;return this.generators.forEach((function(t,e,n){a+=t.combinations()})),a||1}},{key:"min",value:function(){var a=-1;return this.generators.forEach((function(t,e,n){var i=t.min();i<a&&(a=i)})),a}},{key:"max",value:function(){var a=0;return this.generators.forEach((function(t,e,n){var i=t.max();i>a&&(a=i)})),a}},{key:"toString",value:function(a){if(!this.generators)return"";var t=Math.floor(a*this.generators.length);return this.generators[t].toString(a)}}]),e}(o),u=function(a){Object(E.a)(e,a);var t=Object(_.a)(e);function e(a){return Object(c.a)(this,e),t.call(this,a)}return e}(o),d=function(a){Object(E.a)(e,a);var t=Object(_.a)(e);function e(a){var n;return Object(c.a)(this,e),(n=t.call(this)).value=void 0,n.value=a,n}return Object(l.a)(e,[{key:"combinations",value:function(){return 1}},{key:"min",value:function(){return this.value.length}},{key:"max",value:function(){return this.value.length}},{key:"toString",value:function(){return this.value}}]),e}(o),m=function(a){Object(E.a)(e,a);var t=Object(_.a)(e);function e(a){return Object(c.a)(this,e),t.call(this,[a])}return Object(l.a)(e,[{key:"toString",value:function(a){return Object(w.a)(Object(O.a)(e.prototype),"toString",this).call(this,a).split("").reverse().join("")}}]),e}(o),y=function(a){Object(E.a)(e,a);var t=Object(_.a)(e);function e(a){return Object(c.a)(this,e),t.call(this,[a])}return Object(l.a)(e,[{key:"toString",value:function(a){var t=Object(w.a)(Object(O.a)(e.prototype),"toString",this).call(this,a);return t?t[0].toUpperCase()+t.substr(1).toLowerCase():""}}]),e}(o),f=function(a){Object(E.a)(e,a);var t=Object(_.a)(e);function e(a){return Object(c.a)(this,e),t.call(this,[a])}return Object(l.a)(e,[{key:"toString",value:function(a){for(var t=Object(w.a)(Object(O.a)(e.prototype),"toString",this).call(this,a),n="",i=0,r="",s=0;s<t.length;s++){var o=t[s];o===r?i++:i=0;var h=2;switch(o){case"a":case"h":case"i":case"j":case"q":case"u":case"v":case"w":case"x":case"y":h=1}i<h&&(n+=o),r=o}return n}}]),e}(o)}(v||(v={}));var A,N=v,S=function(){function a(t,e){if(Object(c.a)(this,a),this.dynastyid=void 0,this.characterid=void 0,e)return this.dynastyid=t,void(this.characterid=e);this.dynastyid=Math.floor(t/1e5),this.characterid=t%1e5}return Object(l.a)(a,[{key:"valueOf",value:function(){return 1e5*this.dynastyid+this.characterid}}]),a}(),D=function(){function a(t){Object(c.a)(this,a),this.dynastyid=void 0,this.memberCount=void 0,this.main=void 0,this.secondary=void 0,this.dynastyid=t,this.memberCount=0,this.main=new Map,this.secondary=new Map}return Object(l.a)(a,[{key:"all",get:function(){return[].concat(Object(j.a)(this.main.values()),Object(j.a)(this.secondary.values()))}},{key:"add",value:function(a){a.id.dynastyid===this.dynastyid&&this.memberCount++,this.update(a)}},{key:"update",value:function(a){return a.id.dynastyid===this.dynastyid?this.main.set(a.id,a):this.secondary.set(a.id,a)}},{key:"find",value:function(a){return a.dynastyid===this.dynastyid?this.main.get(a):this.secondary.get(a)}},{key:"delete",value:function(a){return a.dynastyid===this.dynastyid?this.main.delete(a):this.secondary.delete(a)}},{key:"clear",value:function(){this.main=new Map,this.secondary=new Map}}]),a}(),C={DYNASTY_NAME:void 0,AVRAGE_FIRTILITY_AGE:18,AVRAGE_LIFESPAN:60,YEAR_DIFERENCE_LIMIT:6,LIVESPAN_DEFFERENCE_KOEF:.5,SECANDARY_DYNASTIES_LIMIT:2,MAX_RANDOM_NUM:1447649678,DEBUG:0},I=function(){function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new d(0,0,0,0,0,0);if(Object(c.a)(this,a),this.idCounter=0,this.nameGen=void 0,this.dynNameGen=void 0,this.dynasty=void 0,this.options=void 0,this.foundingDate=void 0,this.dynastys=void 0,this.characters=void 0,this.links=void 0,this._pseudorandom=void 0,"string"===typeof t)return this.nameGen=new N.NameGenerator(t),this.dynNameGen=new N.NameGenerator(t),this.dynastys=new Array,this.characters=new D(0),this.links=new Array,this.options=n,this.foundingDate=i,this._pseudorandom=function(){var a=e+=1831565813;a=Math.imul(a^a>>>15,1|a);var t=(((a^=a+Math.imul(a^a>>>7,61|a))^a>>>14)>>>0)/4294967296;return this.options.DEBUG>=3&&console.log(t),t},void(this.dynasty=this.options.DYNASTY_NAME?this.options.DYNASTY_NAME:this.dynNameGen.toString(this._pseudorandom()));Object.assign(this,t)}return Object(l.a)(a,[{key:"IPersonFactory",value:function(a,t,e,n,i,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Boolean(this._randint()%2),o=this.dynasty===t?0:this.dynastys.findIndex((function(a){return a===t}));return{name:a,surname:t,patronymic:e,birth:n,death:i,_awaitedCildCount:r,isMale:s,id:new S(o,this.idCounter++),childCount:0}}},{key:"_createChildTimelineDate",value:function(a){var t=a.reduce((function(a,t){return t.year>=a.year?t:a})),e=Object.assign({},t);return e.year+=this._randint()%(this.options.AVRAGE_LIFESPAN-this.options.AVRAGE_FIRTILITY_AGE)+this.options.AVRAGE_FIRTILITY_AGE,e.day=this._randint()%31,e.month=this._randint()%12,e}},{key:"_createPeerTimlineDate",value:function(a){var t=Object.assign({},a);return t.year+=this._randint()%(2*this.options.YEAR_DIFERENCE_LIMIT)-this.options.YEAR_DIFERENCE_LIMIT,t.day=this._randint()%31,t.month=this._randint()%12,t}},{key:"_createDeathTimelineDate",value:function(a){if(!a._awaitedCildCount){var t=Object.assign({},a.birth);return t.year+=this._randint()%this.options.AVRAGE_LIFESPAN,t.day=this._randint()%31,t.month=this._randint()%12,t}var e=Object.assign({},a.birth);return e.year+=this._randint()%(this.options.AVRAGE_LIFESPAN*(1+this.options.LIVESPAN_DEFFERENCE_KOEF)-this.options.AVRAGE_FIRTILITY_AGE)+this.options.AVRAGE_FIRTILITY_AGE,e.day=this._randint()%31,e.month=this._randint()%12,e}},{key:"_randint",value:function(){return Math.floor(this._pseudorandom()*this.options.MAX_RANDOM_NUM)}},{key:"_randomFromArray",value:function(a){return a[Math.floor(this._pseudorandom()*a.length)]}},{key:"_generateDynasty",value:function(){var a=this.dynNameGen.toString(this._pseudorandom());return this.dynastys.push(a),a}},{key:"_getSecondaryDynasty",value:function(){if(!~this.options.SECANDARY_DYNASTIES_LIMIT)return this._generateDynasty();var a=this._randint()%this.options.SECANDARY_DYNASTIES_LIMIT;if(a>=this.dynastys.length){var t=this._generateDynasty();return this.dynastys.push(t),t}return this.dynastys[a]}},{key:"_findMerried",value:function(a){return this.links.find((function(t){return(t.from.valueOf()===a.valueOf()||t.to.valueOf()===a.valueOf())&&"merried"===t.type}))}},{key:"_logChararacterData",value:function(a,t){for(var e="UNKNOWN",n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];switch(t){case"child":e="".concat(a.isMale?"Son":"Daughter"," of ").concat(i[0].name," and ").concat(i[1].name);break;case"wifu":e="".concat(a.isMale?"Hasband":"Wife"," of ").concat(i[0].name);break;case"founder":e="Founder"}console.log("".concat(a.name," ").concat(a.surname," al ").concat(a.patronymic,".\n").concat(e,".\nBirth in ").concat(a.birth.year," year\n").concat(a.death?"Pass off in ".concat(a.death.year," year"):"Until our time","\n"))}},{key:"produce",value:function(){if(!this.characters.memberCount){var a=this.nameGen.toString(this._pseudorandom()),t=this.dynasty,e=this.nameGen.toString(this._pseudorandom()),n=this.IPersonFactory(a,t,e,this.foundingDate,null,this._randint()%3+1);return n.death=this._createDeathTimelineDate(n),this.characters.add(n),this.options.DEBUG&&this._logChararacterData(n,"founder"),this.options.DEBUG>=2&&console.log(n.birth),n}var i=this._randomFromArray(Object(j.a)(this.characters.main.values())),r=this._findMerried(i.id);if(!r){var s=this.nameGen.toString(this._pseudorandom()),o=this._getSecondaryDynasty(),h=this.nameGen.toString(this._pseudorandom()),u=this.IPersonFactory(s,o,h,this._createPeerTimlineDate(i.birth),null,0,!i.isMale);return u.death=this._createDeathTimelineDate(u),this.characters.add(u),this.links.push({from:i.id,to:u.id,type:"merried"}),this.options.DEBUG&&this._logChararacterData(u,"wifu",i),this.options.DEBUG>=2&&console.log(u.birth),u}var c=this.characters.find(r.to),l=this.nameGen.toString(this._pseudorandom()),d=this.dynasty,m=i.name,y=this.IPersonFactory(l,d,m,this._createChildTimelineDate([i.birth,c.birth]),null,this._randint()%3+1);return y.death=this._createDeathTimelineDate(y),this.characters.add(y),this.links.push({from:i.id,to:y.id,type:"child"}),this.links.push({from:r.to,to:y.id,type:"child"}),this.options.DEBUG&&this._logChararacterData(y,"child",i,c),this.options.DEBUG>=2&&console.log(y.birth),y}},{key:"data",get:function(){return Object(h.a)({},this)}},{key:"generateDynasty",value:function(a){for(var t=0;t<a-1;t++)this.produce();return this.characters.all}},{key:"updateCharacter",value:function(a){this.characters.update(a)}},{key:"addCharacter",value:function(a){this.characters.add(a)}},{key:"deleteCharacter",value:function(a){this.characters.delete(a)}}]),a}(),T=new I("VV",1e7*Math.random()),M=T.characters.all;!function(a){a[a.CREATE_NODE=0]="CREATE_NODE",a[a.REMOVE_NODE=1]="REMOVE_NODE",a[a.CREATE_LINK=2]="CREATE_LINK",a[a.REMOVE_LINK=3]="REMOVE_LINK"}(A||(A={}));var R={node:{relations:[],type:"root"}},x=Object(p.a)({reducer:{tree:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.CREATE_LINK:return a;case A.CREATE_NODE:return t.payload?Object(h.a)(Object(h.a)({},a),{},{node:Object(h.a)(Object(h.a)({},a.node),{},{relations:[].concat(Object(j.a)(a.node.relations),[t.payload])})}):a;case A.REMOVE_LINK:case A.REMOVE_NODE:default:return a}},characters:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GenearateDynasty":return T.characters.clear(),T.generateDynasty(30),T.characters.all;case"CreateNewCharacter":return t.payload?(T.characters.add(t.payload),T.characters.all):(T.generateDynasty(1),T.characters.all);case"DeleteCharacter":return T.characters.delete(t.payload),T.characters.all;case"UpdateCharacter":return T.characters.add(t.payload),T.characters.all;default:return a}}}}),G=function(a){var t=b((function(a){var t;return null===(t=a.tree)||void 0===t?void 0:t.node})),e=Object(o.b)(),i=Object(n.useRef)(null);return Object(n.useEffect)((function(){var a=i.current.getContext("2d");if(a.fillStyle="#1e1e1e",a.fillRect(0,0,a.canvas.width,a.canvas.height),t){!function a(t,e,n){n.fillStyle="#0f0","root"!==t.type&&n.fillRect(e,t.birth_date-6,12,12),t.relations.forEach((function(t){return a(t.object,e,n)}))}(t,10,a)}}),[t]),Object(m.jsxs)("div",{children:[Object(m.jsx)("canvas",{ref:i,width:a.width,height:a.height}),Object(m.jsx)("button",{onClick:function(){e({type:A.CREATE_NODE,payload:{object:{birth_date:Math.round(Math.random()*Number(a.width)),relations:[],type:"character"},type:""}})}})]})},F=function(a){return Object(m.jsx)("div",{children:Object(m.jsx)(G,Object(h.a)({},a))})};e(32);var L=function(){return Object(m.jsx)(o.a,{store:x,children:Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(F,{width:600,height:600}),Object(m.jsx)(g,{})]})})},Y=function(a){a&&a instanceof Function&&e.e(3).then(e.bind(null,34)).then((function(t){var e=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;e(a),n(a),i(a),r(a),s(a)}))};s.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(L,{})}),document.getElementById("root")),Y()}},[[33,1,2]]]);
//# sourceMappingURL=main.b4b73069.chunk.js.map